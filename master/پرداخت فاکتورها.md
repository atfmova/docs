- [مقدمه](#menu)
- [پرداخت از طریق کیف پول](#menu)
- [پرداخت از درگاه](#menu)
- [پرداخت با پیامک](#menu)
- [پرداخت خارج از پلتفرم پاد](#menu)
- [پرداخت از طریق فاکتور دیگر](#menu)
- [پرداخت در آینده](#menu)
- [پرداخت از پایانه فروشگاهی-POS](#menu)
- [دریافت لینک پرداخت](#menu)
- [لینک‌های مرتبط](#menu)


## مقدمه

**تمام امکانات پرداخت فاکتور در پکیج billing قرار دارد.برای اطلاعات بیشتر به [پکیج سرویس‌ها](/documents/packages/) مراجعه کنید**

<div class="box-end">
</div>

## پرداخت از طریق کیف پول


<div class="mermaid">
graph TD  
A((شروع))  
A-.->B  
B( ایجاد لینک پرداخت)-.->C  
C(هدایت کاربر به صفحه پرداخت از کیف پول)-.->N  
N{پرداخت توسط مشتری تایید شد} 
N-- خیر ---O 
N-- بله ---P
P(هدایت به صفحه بازگشت از خرید - مقدار redirect url)
P-.->M
M((پایان))
</div>

<br/>

مشتری برای مشاهده فاکتور خود و پرداخت آن از طریق کیف پول خود، لازم است به آدرسی که توسط متد getPayInvoiceByWalletLink تولید می شود، هدایت شود. در این صفحه کاربر امکان پرداخت وجه از طریق درگاه بانک را نیز دارد و میتواند از اعتبار خرید نیز در صورت وجود استفاده نماید.

<br/>

مقدار invoiceId، مقداری است که از پاسخ سرویس issueInvoice با عنوان id دریافت می‌نمایید و این مقدار از billNumber که توسط خود کسب و کار انتخاب شده است، متمایز می‌باشد.

<br/>

در این حالت، مشتری باید لاگین باشد و در صورتی که شناسه اشتباه وارد شود با خطای " فاکتور یافت نشد " مواجه می شود.

<br/>
<br/>

#### پرداخت از کیف پول با ورود به SSO

<br/>

<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
             var payInvoiceByWalletVo = PayInvoiceByWalletVo.ConcreteBuilder
                                .SetInvoiceId({Put your InvoiceId})
                                //.SetCallUri("{Put your CallUri}")
                                //.SetRedirectUri("{Put your RedirectUri}")
                                .Build();
            var output = payInvoiceByWalletVo.GetLink();
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```
<div class="swaggerLink">http://</div>

# [Java](#tab/java)

``` java
BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
        .setToken({token})
        .setToken_issuer(1)
        .build();

BillingService billingService = new BillingService();

try {
    PayInvoiceByWalletVo payInvoiceByWalletVo = new PayInvoiceByWalletVo.Builder(baseInfoVo)
           .setInvoiceId({invoiceId})
            .setCallUri("")
            .setRedirectUri("")
            .build();
    return    payInvoiceByWalletVo.getLink();
} 
catch (PodException e) {
    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
}

return  null;
}

```
<div class="swaggerLink">http://</div>

# [PHP](#tab/php)

``` php
    $param =
        [
            ## ============================ Required Parameters  =========================
            "invoiceId"     => "{put invoice id}",            # شناسه فاکتور
            ## ============================ Optional Parameters ==========================
            "redirectUri"   => "{put redirect uri}",
            "callUri"       => "{put call uri}",          # The function that will be called at the end of payment
        ];
    try {
        echo ($BillingService->getPayInvoiceByWalletLink($param)) . PHP_EOL;
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```
<div class="swaggerLink">http://</div>

# [Nodejs](#tab/nodejs)

``` javascript
let getPayInvoiceByWalletLinkData = {
  // ------ REQUIRED ------
  invoiceId: 0 // INVOICEID

  // ------ OPTIONAL ------
  // redirectUri: 'REDIRECT URI'
  // callUri: 'CALL URI'
  // scVoucherHash: ['HASH#1', 'HASH#2']
  // token: 'API TOKEN'
  // tokenIssuer: 0 | 1
  // scApiKey: ' SC API KEY'
};

try {
  let url = podBilling.getPayInvoiceByWalletLink(getPayInvoiceByWalletLinkData);
  console.log('function: addAutoSettlement ============>', url, '\n');
}
catch (error) {
  console.log('error getPayInvoiceByWalletLink ============>', error);
}

```
<div class="swaggerLink">http://</div>

<div class="tab-end">
</div>

پارامتر redirectUri آدرسی است که بعد از پرداخت کاربر به آن هدایت می گردد، پارامتر callUri نیز آدرسی در سرور شما میتواند باشد که در صورت موفق بودن پرداخت فراخوانی می گردد. پس از پرداخت پارامترهای زیر به صورت GET به آدرس redirectUri برگردانده می شود:

``` javascript

billNumber&paymentBillNumber&invoiceId&paid&terminalId&maskedCardNumber

```


<br/>
<br/>
<br/>

#### پرداخت از کیف پول کسب و کار با توکن کسب و کاری


<br/>

جهت پرداخت فاکتور با حساب کیف پول کسب و کار (حالت دوم) در صورتی که فاکتور مشخصا برای شما صادر شده باشد میتوانید از سرویس زیر استفاده نمایید:


<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
            var output = new ResultSrv<bool>();
            var payInvoiceByCreditVo= PayInvoiceByCreditVo.ConcreteBuilder
                                .SetServiceCallParameters(internalServiceCallVo)
                                .SetOtt({Put your Ott})
                                .SetInvoiceId({Put your InvoiceId})
                                .SetWallet("{Put your Wallet Code}")
                                //.SetForceDelegation({Put your ForceDelegation})
                                //.SetDelegatorId({Put your DelegationId})
                                //.SetDelegationHash({Put your DelegationHash})
                                .Build();
            BillingService.PayInvoice(payInvoiceByCreditVo, response => Listener.GetResult(response, out output));
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```
<div class="swaggerLink">http://</div>

# [Java](#tab/java)

``` java
//List<String> scVoucherHashs =new ArrayList<>();
//scVoucherHashs.add("RFSFGDYEDYGS");
 BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken({token})
                .setToken_issuer(1)
                .setOtt({ott})
                //.setScApiKey("SDFJKSHFJwshfJshfDJH")
                //.setScVoucherHash(scVoucherHashs)
                .build();

BillingService billingService = new BillingService();

try {
    PayInvoiceByCreditVo payInvoiceByCreditVo = new PayInvoiceByCreditVo.Builder(baseInfoVo)
            .setInvoiceId({invoiceId})
            .build();
    billingService.payInvoiceByCredit(payInvoiceByCreditVo, new OnGetResponseListener<Boolean>() {
        @Override
        public void onResponse(ResultVo<Boolean> result) {
            System.out.println(result.getResult());
        }

        @Override
        public void onFailed(PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }
    });
} 
catch (PodException e) {
    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
}

```
<div class="swaggerLink">http://</div>

# [PHP](#tab/php)

``` php
$param =
        [
            ## ============================ *Required Parameters  =========================
            'ott' => '{Put ott}' , # one time token - این توکن را در سرویس قبلی دریافت کرده اید.
            'invoiceId' => '{Put invoice id}', # شناسه فاکتور
            'wallet' => 'PODLAND_WALLET',  # کد کیف پول
            ## =========================== Optional Parameters  ===========================
            'delegatorId' => ['{Put delegator Ids}'],
            'delegationHash' => ['{Put delegation hash for each delegator id}'],
            'forceDelegation' => '{Put true/false}',
            'scVoucherHash'     => ['{Put Service Call Voucher Hashes}'],
            'scApiKey'           => '{Put service call Api Key}',
        ];
    try {
        $result = $BillingService->payInvoiceByCredit($param);
        print_r($result);
    }
    catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }
```
<div class="swaggerLink">http://</div>

# [Nodejs](#tab/nodejs)

``` javascript
let payInvoiceByCreditData = {
  // ------ REQUIRED ------
  invoiceId: 6723179,
  ott: '4f6355459d1c17ae'

  // ------ OPTIONAL ------
  // delegatorId: [0, 0]
  // delegationHash: ['HASH#1', 'HASH#2']
  // forceDelegation: true | false
  // wallet: 'WALLET'
  // scVoucherHash: ['HASH#1', 'HASH#2']
  // token: 'API TOKEN'
  // tokenIssuer: 0 | 1
  // scApiKey: ' SC API KEY'
};

podBilling.payInvoiceByCredit(payInvoiceByCreditData)
  .then(function (result) {
    console.log('function: payInvoiceByCredit ============>', JSON.stringify(result, null, 2), '\n');
  })
  .catch(function (error) {
    console.log('error payInvoiceByCredit ============>', error);
  });

```
<div class="swaggerLink">http://</div>

<div class="tab-end">
</div>




<br/>

در صورتی که فاکتور برای شما صادر نشده یا اصلا کاربر ندارد، جهت پرداخت آن از سرویس زیر استفاده نمایید:


<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
            var output = new ResultSrv<bool>();
            var payInvoiceByCreditVo= PayInvoiceByCreditVo.ConcreteBuilder
                                .SetServiceCallParameters(internalServiceCallVo)
                                .SetOtt({Put your Ott})
                                .SetInvoiceId({Put your InvoiceId})
                                .SetWallet("{Put your Wallet Code}")
                                //.SetForceDelegation({Put your ForceDelegation})
                                //.SetDelegatorId({Put your DelegationId})
                                //.SetDelegationHash({Put your DelegationHash})
                                .Build();
            BillingService.PayAnyInvoice(payInvoiceByCreditVo, response => Listener.GetResult(response, out output));
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```
<div class="swaggerLink">http://</div>

# [Java](#tab/java)

``` java
//List<String> scVoucherHashs =new ArrayList<>();
//scVoucherHashs.add("RFSFGDYEDYGS"); 
BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken({to9ken})
                .setToken_issuer(1)
                .setOtt({ott})
                //.setScApiKey("SDFJKSHFJwshfJshfDJH")
                //.setScVoucherHash(scVoucherHashs)
                .build();

BillingService billingService = new BillingService();

try {
    PayAnyInvoiceByCreditVo payAnyInvoiceByCreditVo = new PayAnyInvoiceByCreditVo.Builder(baseInfoVo)
            .setInvoiceId({invoiceId})
            .setWallet("PODLAND_WALLET")
            .build();
    billingService.payAnyInvoiceByCredit(payAnyInvoiceByCreditVo, new OnGetResponseListener<Boolean>() {
        @Override
        public void onResponse(ResultVo<Boolean> result) {
            System.out.println(result.getResult());
        }

        @Override
        public void onFailed(PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }
    });
} 
catch (PodException e) {
    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
}

```
<div class="swaggerLink">http://</div>

# [PHP](#tab/php)

``` php
$param =
        [
            ## ============================ *Required Parameters  =========================
            'ott' => '{Put ott}' , # one time token - این توکن را در سرویس قبلی دریافت کرده اید.
            'invoiceId' => '{Put invoice id}', # شناسه فاکتور
            'wallet' => 'PODLAND_WALLET',  # کد کیف پول
            ## =========================== Optional Parameters  ===========================
            'delegatorId' => ['{Put delegator Ids}'],
            'delegationHash' => ['{Put delegation hash for each delegator id}'],
            'forceDelegation' => '{Put true/false}',
            'scVoucherHash'     => ['{Put Service Call Voucher Hashes}'],
            'scApiKey'           => '{Put service call Api Key}',
        ];
    try {
        $result = $BillingService->payAnyInvoiceByCredit($param);
        print_r($result);
    }
    catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```
<div class="swaggerLink">http://</div>

# [Nodejs](#tab/nodejs)

``` javascript
let payAnyInvoiceByCreditData = {
  // ------ REQUIRED ------
  invoiceId: 6699284,
  ott: 'da558bd914dd61ef',
  wallet: 'PODLAND_WALLET'

  // ------ OPTIONAL ------
  // delegatorId: [0, 0]
  // delegationHash: ['HASH#1', 'HASH#2']
  // forceDelegation: true | false
  // scVoucherHash: ['HASH#1', 'HASH#2']
  // token: 'API TOKEN'
  // tokenIssuer: 0 | 1
  // scApiKey: ' SC API KEY'
};
podBilling.payAnyInvoiceByCredit(payAnyInvoiceByCreditData)
  .then(function (result) {
    console.log('function: payAnyInvoiceByCredit ============>', JSON.stringify(result, null, 2), '\n');
  })
  .catch(function (error) {
    console.log('error payAnyInvoiceByCredit ============>', error);
  });

```
<div class="swaggerLink">http://</div>

<div class="tab-end">
</div>




<div class="box-end">
</div>


## پرداخت از درگاه

<div class="mermaid">
graph TD  
A((شروع))  
A-.->B  
B( ایجاد لینک پرداخت)-.->C  
C(هدایت کاربر به صفحه پرداخت از کیف پول)-.->N  
N(انجام پرداخت توسط مشتری)
N-- هدایت صفحه ---P 
P(هدایت به صفحه بازگشت از خرید - مقدار redirect url)
P-.->M
M((پایان))
</div>

کسب و کار میتواند برای تمام مشتریان خود، بدون نیاز به ورود به سامانه احراز هویت یکپارچه، امکان خرید را از طریق لینکی که متد getPayInvoiceByUniqueNumberLink تولید می کند، فراهم کند. برای این منظور لازم است کسب و کار از کد یکتا (uniqueNumber در خروجی صدور فاکتور ) که برای فاکتور تولید می شود استفاده نماید

<br/>

پارامتر redirectUri آدرسی است که بعد از پرداخت کاربر به آن هدایت می گردد، پارامتر callUri نیز آدرسی در سرور شما میتواند باشد که در صورت موفق بودن پرداخت فراخوانی می گردد.


<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
            var payInvoiceByUniqueNumberVo = PayInvoiceByUniqueNumberVo.ConcreteBuilder
                                .SetUniqueNumber("{Put your UniqueNumber}")
                                //.SetGateway("{Put your Gateway}")
                                //.SetRedirectUri("{Put your RedirectUri}")
                                //.SetCallUri("{Put your CallUri}")
                                .Build();
            var output = payInvoiceByUniqueNumberVo.GetLink();
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```
<div class="swaggerLink">http://</div>

# [Java](#tab/java)

``` java
 BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken({token})
                .setToken_issuer(1)
                //.setScApiKey("SDFJKSHFJwshfJshfDJH")
                //.setScVoucherHash(scVoucherHashs)
                .build();

try {
    PayInvoiceByUniqueNumberVo payInvoiceByUniqueNumberVo = new 
    PayInvoiceByUniqueNumberVo.Builder(baseInfoVo)
            .setUniqueNumber({uniqueNumber})
            .setGateway({geteway})
            .setRedirectUri({redirectUi})
            .build();
    return payInvoiceByUniqueNumberVo.getLink();

} 
catch (PodException e) {
    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
}
return null;

```
<div class="swaggerLink">http://</div>

# [PHP](#tab/php)

``` php
$param =
        [
            ## ========================= *Required Parameters  ======================
            'uniqueNumber'  => '{put unique number of invoice}',
            ## ======================== Optional Parameters =========================
            'redirectUri'   => '{put redirect uri}',
            'callUri'       => '{put call uri}', 
            'gateway'       => 'PEP'
        ];
    try{
        echo ($BillingService->getPayInvoiceByUniqueNumberLink($param)).PHP_EOL;
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```
<div class="swaggerLink">http://</div>

# [Nodejs](#tab/nodejs)

``` javascript
let getPayInvoiceByUniqueNumberLinkData = {
  // ------ REQUIRED ------
  uniqueNumber: 'UNIQUE NUMBER'

  // ------ OPTIONAL ------
  // redirectUri: 'REDIRECT URI'
  // callUri: 'CALL URI'
  // gateway: 'PEP'
  // scVoucherHash: ['HASH#1', 'HASH#2']
  // token: 'API TOKEN'
  // tokenIssuer: 0 | 1
  // scApiKey: ' SC API KEY'
};

try {
  let url = podBilling.getPayInvoiceByUniqueNumberLink(getPayInvoiceByUniqueNumberLinkData);
  console.log('function: addAutoSettlement ============>', url, '\n');
}
catch (error) {
  console.log('error getPayInvoiceByWalletLink ============>', error);
}


```
<div class="swaggerLink">http://</div>

<div class="tab-end">
</div>

<div class="box-end">
</div>


## پرداخت با پیامک


<div class="mermaid">
graph TD  
A((شروع))  
A-.->B  
B(ارسال پیامک به مشتری)-.->C  
C{پرداخت توسط مشتری تایید شد}
C-- خیر ---D 
D(پرداخت ناموفق)
C-- بله ---N  
N(انجام عملیات کسر از کیف پول توسط پاد)-.->M
M((پایان))
</div>

در صورتی که کاربر به رایانه جهت پرداخت دسترسی ندارد، یا در فروش حضوری، کسب و کار میتواند درخواست ارسال پیامک پرداخت به کاربر دهد و کاربر با پیامک کردن کدی که دریافت کرده به همان شماره، فاکتور را از کیف پول خود پرداخت مینماید.

<br/>

همچنین در پیامکی که به کاربر ارسال می شود، لینک پیش نمایش فاکتور نیز ارسال می شود تا در صورت نیاز کاربر فاکتور را مشاهده و بعد نسبت به پرداخت آن اقدام نماید.


پس از فراخوانی سرویس پایین، پیامکی حاوی یک کد و یک لینک پرداخت برای کاربر پیامک می گردد. کاربر می تواند با مراجعه به لینک پرداخت، یک پیش نمایش از فاکتور را ببیند، آن را از طریق درگاه بانکی پرداخت نماید یا وارد SSO شود و از امکانات کیف پول استفاده نماید.

<br/>
از طریق سرویس بالا همچنین می توان لیستی از شناسه های اعتبار اختصاصی کاربر را نیز جهت استفاده در پرداخت فاکتور ارسال نمود. به این ترتیب لیست اعتباراتی که با ارسال کد استفاده می شوند، در پیامک به کاربر اعلام می گردد.



<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
            var output = new ResultSrv<bool>();
            var sendInvoicePaymentSmsVo = SendInvoicePaymentSmsVo.ConcreteBuilder
                                .SetServiceCallParameters(internalServiceCallVo)
                                .SetInvoiceId({Put your InvoiceId})
                                //.SetWallet("{Put your Wallet}")
                                //.SetCallbackUri("Put your CallbackUri")
                                //.SetRedirectUri("Put your RedirectUri")
                                //.SetDelegationId({Put your DelegationId})
                                //.SetForceDelegation({Put your ForceDelegation})
                                .Build();
            BillingService.SendInvoicePaymentSms(sendInvoicePaymentSmsVo,response => Listener.GetResult(response, out output));
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```
<div class="swaggerLink">http://</div>

# [Java](#tab/java)

``` java
//List<String> scVoucherHashs =new ArrayList<>();
//scVoucherHashs.add("RFSFGDYEDYGS"); 
BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken({token})
                .setToken_issuer(1)
                //.setScApiKey("SDFJKSHFJwshfJshfDJH")
                //.setScVoucherHash(scVoucherHashs)
                .build();

BillingService billingService = new BillingService();

try {
    SendInvoicePaymentSmsVo sendInvoicePaymentSMSVo = new SendInvoicePaymentSmsVo.Builder(baseInfoVo)
            .setInvoiceId({invoiceId})
            .build();
    billingService.sendInvoicePaymentSMS(sendInvoicePaymentSMSVo, new OnGetResponseListener<Boolean>() {
        @Override
        public void onResponse(ResultVo<Boolean> result) {
            System.out.println(result.getResult());
        }

        @Override
        public void onFailed(PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }
    });
} 
catch (PodException e) {
    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
}

```
<div class="swaggerLink">http://</div>

# [PHP](#tab/php)

``` php
$param =
        [
            ## ============================ *Required Parameters  =========================
            'invoiceId'          => '{put invoice id}' , # شناسه فاکتور
            ## =========================== Optional Parameters  ===========================
            'wallet'             => '{put wallet code}', 
            'callbackUri'        => '{put call back uri}',
            'redirectUri'        => '{put redirect uri}', 
            'delegationId'       => '{put delegation id}', 
            'forceDelegation'    => '{put force delegation}',
            'scVoucherHash'     => ['{Put Service Call Voucher Hashes}'],
            'scApiKey'           => '{Put service call Api Key}',
        ];
    try {
        $result = $BillingService->sendInvoicePaymentSMS($param);
        print_r($result);
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```
<div class="swaggerLink">http://</div>

# [Nodejs](#tab/nodejs)

``` javascript
let sendInvoicePaymentSMSData = {
  // ------ REQUIRED ------
  invoiceId: 0

  // ------ OPTIONAL ------
  // wallet: 'WALLET NAME'
  // callbackUri: 'CALLBACK URI'
  // redirectUri: 'REDIRECT URI'
  // delegationId: ARRAY OF INTEGERS
  // forceDeligation: 'FORCE DELIGATION'
  // scVoucherHash: ['HASH#1', 'HASH#2']
  // token: 'API TOKEN'
  // tokenIssuer: 0 | 1
  // scApiKey: ' SC API KEY'
};

podBillingService.sendInvoicePaymentSMS(sendInvoicePaymentSMSData)
  .then(function (result) {
    console.log('function: sendInvoicePaymentSMS ============>', result, '\n');
  })
  .catch(function (error) {
    console.log('error sendInvoicePaymentSMS ============>', error);
  });


```
<div class="swaggerLink">http://</div>

<div class="tab-end">
</div>



<div class="box-end">
</div>



## پرداخت خارج از پلتفرم پاد

از طریق این سرویس کسب و کار قادر خواهد بود که پرداخت شدن برخی فاکتورهای خود را منوط به پرداخت شدن فاکتورهای دیگری نماید. یا به عبارتی نوعی تهاتر را بوسیله فاکتورها انجام دهد که این امر توسط سرویس payInvoiceByInvoice قابل اجرا خواهد بودر صورتی که فاکتور به هر شکلی بجز امکانات موجود در پلتفرم پاد پرداخت شد، میتوانید با استفاده از سرویس payInvoice، وضعیت آن را به حالت پرداخت شده ببرید. در این روش هیچ گونه سند مالی در پلتفرم ثبت نشده و به اعتبار افزوده نمی شود.

<br/>

**دقت نمایید که کسب و کار فقط می تواند فاکتورهایی که خودش صادر نموده را با این روش پرداخت کند.**



<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
            var output = new ResultSrv<bool>();
            var payInvoiceVo = PayInvoiceVo.ConcreteBuilder
                                .SetServiceCallParameters(internalServiceCallVo)
                                .SetInvoiceId({Put your InvoiceId})
                                .Build();
            BillingService.PayInvoice(payInvoiceVo, response => Listener.GetResult(response, out output));
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```
<div class="swaggerLink">http://</div>

# [Java](#tab/java)

``` java
//List<String> scVoucherHashs =new ArrayList<>();
//scVoucherHashs.add("RFSFGDYEDYGS");
BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken(TOKEN)
                .setToken_issuer(1)
                //.setScApiKey("SDFJKSHFJwshfJshfDJH")
                //.setScVoucherHash(scVoucherHashs)
                .build();

BillingService billingService = new BillingService();

try {
    PayInvoiceVo payInvoiceVo = new PayInvoiceVo.Builder(baseInfoVo)
            .setInvoiceId({invoiceId})
            .build();
    billingService.payInvoice(payInvoiceVo, new OnGetResponseListener<Boolean>() {
        @Override
        public void onResponse(ResultVo<Boolean> result) {
            System.out.println(result.getResult());
        }

        @Override
        public void onFailed(PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }
    });
} 
catch (PodException e) {
    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
}

```
<div class="swaggerLink">http://</div>

# [PHP](#tab/php)

``` php
$param =
        [
            ## ===================== *Required Parameters  ==================
            'invoiceId'     => '{put invoice id}',             # شناسه فاکتور
            ## ==================== Optional Parameters  =====================
            'redirectUri'   => '{put redirect uri}',
            'callUri'       => '{put call uri}',
            'scVoucherHash'     => ['{Put Service Call Voucher Hashes}'],
            'scApiKey'           => '{Put service call Api Key}',
        ];
    try {
        $result = $BillingService->payInvoice($param);
        print_r($result);
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```
<div class="swaggerLink">http://</div>

# [Nodejs](#tab/nodejs)

``` javascript
let payInvoiceData = {
  // ------ REQUIRED ------
  invoiceId: 0

  // ------ OPTIONAL ------
  // scVoucherHash: ['HASH#1', 'HASH#2']
  // token: 'API TOKEN'
  // tokenIssuer: 0 | 1
  // scApiKey: ' SC API KEY'
};

podBillingService.payInvoice(payInvoiceData)
  .then(function (result) {
    console.log('function: payInvoice ============>', result, '\n');
  })
  .catch(function (error) {
    console.log('error payInvoice ============>', error);
  });


```
<div class="swaggerLink">http://</div>

<div class="tab-end">
</div>

<div class="box-end">
</div>


## پرداخت از طریق فاکتور دیگر

از طریق این سرویس کسب و کار قادر خواهد بود که پرداخت شدن برخی فاکتورهای خود را منوط به پرداخت شدن فاکتورهای دیگری نماید. یا به عبارتی نوعی تهاتر را بوسیله فاکتورها انجام دهد که این امر توسط سرویس payInvoiceByInvoice قابل اجرا خواهد بود

<br/>

خطاهای سرویس فوق به شرح جدول زیر میباشد

|       خطا         |شرح خطا                          
|----------------|-------------------------------
|فاکتور بستانکار پرداخت نشده است|   هنوز فاکتور مربوطه جهت پرداخت بدهی پرداخت نشده است           
|مجوز انجام این عملیات را ندارید          |احتمالا خطایی در ارسال پارامتر ها وجود دارد مثلا مقدار پارامتر بستانکار و بدهکار جا به جا وارد شده است یا توکن کاربر صاحب فاکتور بدهکار اشتباه است           
|فاکتور بستانکار آماده برای مسدودی می باشد          |قبلا فاکتور مسدود شده و پس از تسویه شاپرک به حساب بستانکار واریز خواهد شد 


جهت روشن تر شدن موضوع و درک بهتر استفاده از این سرویس سناریوی زیر را مشاهده بفرمایید.
فرض کنید کسب و کار A فاکتوری را برای کسب و کار B صادر میکند و کسب و کار B برای پرداخت فاکتور مورد نظر میتواند اگر فاکتورقابل پرداختی دارد و برای مشتری یا کسب و کاری آن را صادر کرده است و مبلغ آن نیز فاکتور A را پوشش میدهد از طریق سرویس فوق این پرداخت را انجام دهد.

**[ در خصوص استفاده از این سرویس به موارد زیر توجه داشته باشید ]**

- فاکتوری که قرار است از طریق آن فاکتور شخص دیگری را پرداخت کنید باید در وضعیت پرداخت شده قرار بگیرد. در غیر این صورت سرویس فوق خطای " فاکتور بستانکار پرداخت نشده است " میدهد.
- فاکتور بدهکار شده پس از تسویه شاپرک قابل برداشت خواهد بود.
- پس از فراخوانی سرویس فوق در پاسخ دریافتی از سرویس مقدار true در result نمایش داده خواهد شد. که به معنی انجام شدن صحیح سرویس میباشد.
- اگر وضعیت فاکتور بستانکار را دریافت نمایید مقدار willBePaid در پاسخ سرویس برای فاکتور مربوطه true میباشد.
- اگر وضعیت فاکتور بدهکار را دریافت نمایید مقدار willBeBlockedدر پاسخ سرویس برای فاکتور مربوطه true میباشد. البته پس از پرداخت شدن فاکتور 



<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
            var output = new ResultSrv<bool>();
            var payInvoiceByInvoiceVo = PayInvoiceByInvoiceVo.ConcreteBuilder
                                .SetServiceCallParameters(internalServiceCallVo)
                                .SetCreditorInvoiceId({Put your CreditorInvoiceId})
                                .SetDebtorInvoiceId({Put your DebtorInvoiceId})
                                .Build();
            BillingService.PayInvoiceByInvoice(payInvoiceByInvoiceVo,response => Listener.GetResult(response, out output));
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```
<div class="swaggerLink">http://</div>

# [Java](#tab/java)

``` java
//List<String> scVoucherHashs =new ArrayList<>();
//scVoucherHashs.add("RFSFGDYEDYGS");
BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken({token})
                .setToken_issuer(1)
                //.setScApiKey("SDFJKSHFJwshfJshfDJH")
                //.setScVoucherHash(scVoucherHashs)
                .build();

BillingService billingService = new BillingService();

try {
    PayInvoiceByInvoiceVo payInvoiceByInvoiceVo = new PayInvoiceByInvoiceVo.Builder(baseInfoVo)
            .setCreditorInvoiceId({creditorInvoiceId})
            .setDebtorInvoiceId({DebtorInvoiceId})
            .build();
    billingService.payInvoiceByInvoice(payInvoiceByInvoiceVo, new OnGetResponseListener<Boolean>() {
        @Override
        public void onResponse(ResultVo<Boolean> result) {
            System.out.println(result.getResult());
        }


        @Override
        public void onFailed(PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }
    });
} 
catch (PodException e) {
    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
}


```
<div class="swaggerLink">http://</div>

# [PHP](#tab/php)

``` php
$param =
        [
            ## ============================ *Required Parameters  =========================
            'creditorInvoiceId' => 'Put creditor Invoice Id',
            'debtorInvoiceId' => 'Put debtor Invoice Id',
            ## =========================== Optional Parameters  ===========================
            'scVoucherHash'     => ['{Put Service Call Voucher Hashes}'],
            'scApiKey'           => '{Put service call Api Key}',
        ];
    try {
        $result = $BillingService->payInvoiceByInvoice($param);
        print_r($result);
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```
<div class="swaggerLink">http://</div>

# [Nodejs](#tab/nodejs)

``` javascript
let payInvoiceByInvoiceData = {
  // ------ REQUIRED ------
  creditorInvoiceId: 0, // INVOICE ID
  debtorInvoiceId: 0 // INVOICE ID

  // ------ OPTIONAL ------
  // scVoucherHash: ['HASH#1', 'HASH#2']
  // token: 'API TOKEN'
  // tokenIssuer: 0 | 1
  // scApiKey: ' SC API KEY'
};

podBilling.payInvoiceByInvoice(payInvoiceByInvoiceData)
  .then(function (result) {
    console.log('function: payInvoiceByInvoice ============>', result, '\n');
  })
  .catch(function (error) {
    console.log('error payInvoiceByInvoice ============>', error);
  });


```
<div class="swaggerLink">http://</div>

<div class="tab-end">
</div>




<div class="box-end">
</div>

## پرداخت در آینده


<div class="mermaid">
graph TD  
A((شروع))  
A-.->B  
B(ایجاد درخواست پرداخت در آینده توسط کاربر بدهکار)-.->C  
C(بررسی موجودی و بلوکه  کردن آن توسط پاد)-.->D
D(انجام عملیات پرداخت  ازکیف پول توسط پاد در سررسید)-.->N
N(تغییر وضعیت فاکتور به پرداخت شده )-.->M
M((پایان))
</div>

در فاکتور تسهیمی نیز مانند فاکتور عادی با لغو شدن، کل مبلغ فاکتور و با کاهش، قسمتی از مبلغ به مشتری بازگردانده می شود. ولی در فاکتور تسهیمی برای کاهش لازم است کل سهم ها مجدداً اعلام شوند تا مبلغی که کسر می شود از حساب درست برداشته شوداز طریق این سرویس کسب و کار قادر خواهد بود فاکتورهایی که برایش توسط دیگران صادر شده را درتاریخ آینده یا سررسید توافقی از طریق مبلغی که در کیف پول یا اصناف خود دارد پرداخت نماید .

<br/>
این سرویس باید توسط کسب و کار یا کاربر بدهکار یا شخصی که فاکتور برایش صادر شده صدا زده شود در غیر این صورت با خطای زیر روبرو خواهد شد.

<br/>

پس از فراخوانی سرویس فوق مبلغ فاکتورهای درخواست داده شده جهت پرداخت در آینده از [ کیف پول یا صنف مورد نظر برداشت شده ] و در حساب مسدودی کسب و کار که قابل برداشت توسط ایشان نیست نگهداری میشود و سپس در سررسیدهای تعیین شده به حساب کسب و کارهای تعهد شده واریز خواهد شد.

<br/>

همچنین اگر مبلغ مورد نیاز جهت پرداخت فاکتورها در آینده , توسط [ کیف پول کسب و کار یا اصناف قابل تامین نباشد ] و یا [ کمتر ] باشد اجازه استفاده از این سرویس به کسب و کار داده نمیشود و با خطای " اعتبار کافی جهت انجام عملیات مسدودی را ندارید " مواجه خواهید شد.

<br/>
**تــــوجه :**
 پلتفرم پاد پرداخت شدن تمامی فاکتورهای از این دست را در سررسیدهای تعیین شده  تضمین مینماید.
 همانطور که در تصویر زیر مشاهده میکنید پس از فراخوانی سرویس فوق در بخش حساب های پنل کسب و کار بدهکار کادری جهت نمایش مبالغ مسدود شده نمایش داده میشود که قابل گزارشگیری نیز میباشد
 
![](/assets/images/markdown/pay-invoice1.jpg)
 
 همچنین با کلیک بر روی دکمه " گزارش " در تصویر بالا در بخش حساب های پنل کسب و کاری ریز تراکنش های مربوط به حساب مسدودی برای شما نمایش داده میشود و هربار که سرویس فوق صدا زده میشود یک سند به همراه اطلاعات مربوط به مسدود سازی مبلغ در این بخش درج خواهد شد.
 
![](/assets/images/markdown/pay-invoice2.jpg)

همچنین پس از ثبت یک فاکتور بعنوان " فاکتور پرداخت در آینده "  اجازه پرداخت توسط سرویس های پرداخت فاکتور و یا کیف پول و درگاه بانکی تا سررسید مشخص شده وجود ندارد و با خطای " اجازه پرداخت این فاکتور را ندارید " و یا  " فاکتور در انتظار پرداخت توسط  تضمین ارائه شده میباشد "  را دریافت خواهید کرد.

![](/assets/images/markdown/pay-invoice3.jpg)

همچنین در هر زمان با دریافت وضعیت فاکتور میتوانید ببینید تاریخ پرداخت تعهد شده چه تاریخی میباشد که در فیلد willBePaidAt  به شکل timestamp  قابل مشاهده میباشد.

<br/>
همچنین کسب و کار بدهکار امکان کنسل یا لغو فاکتور را پس از ثبت بعنوان پرداخت در آینده ندارد. اما کاربر صادر کننده فاکتور این امکان را دارد تا فاکتور ثبت شده بعنوان پرداخت در آینده را در هر زمان تا قبل از پرداخت کنسل کند 


<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
            var output = new ResultSrv<bool>();
            var ottOutput = GetOtt();
            var payInvoiceInFutureVo = PayInvoiceInFutureVo.ConcreteBuilder
                                .SetServiceCallParameters(internalServiceCallVo)
                                .SetInvoiceId({Put your InvoiceId})
                                .SetDate("{Put your Date}")
                                .SetOtt(ottOutput.Ott)
                                //.SetGuildCode("{Put your GuildCode}")
                                //.SetWallet("{Put your Wallet}")
                                .Build();
            BillingService.PayInvoiceInFuture(payInvoiceInFutureVo,response => Listener.GetResult(response, out output));
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```
<div class="swaggerLink">http://</div>

# [Java](#tab/java)

``` java
//List<String> scVoucherHashs =new ArrayList<>();
//scVoucherHashs.add("RFSFGDYEDYGS");
 BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken({token})
                .setToken_issuer(1)
                .setOtt(OTT)
                //.setScApiKey("SDFJKSHFJwshfJshfDJH")
                //.setScVoucherHash(scVoucherHashs)
                .build();

BillingService billingService = new BillingService();

try {
    PayInvoiceInFutureVo payInvoiceInFutureVo = new PayInvoiceInFutureVo.Builder(baseInfoVo)
            .setDate({date})
            .setInvoiceId({invoiceId})
            .setGuildCode("ENGINEERING_GUILD")
            .build();
    billingService.payInvoiceInFuture(payInvoiceInFutureVo, new OnGetResponseListener<Boolean>() {
        @Override
        public void onResponse(ResultVo<Boolean> result) {
            System.out.println(result.getResult());
        }

        @Override
        public void onFailed(PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }
    });
} 
catch (PodException e) {
    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
}

```
<div class="swaggerLink">http://</div>

# [PHP](#tab/php)

``` php
$param =
        [
            ## ======================== *Required Parameters  ======================
            'ott' => 'put one time token' , # one time token 
            'invoiceId' => '{put invoice id}',
            'date' => 'yyyy/mm/dd',
            ## ======================== Optional Parameters  =======================
            # یکی و فقط یکی از دو فیلد را باید پر کنید
            'guildCode' => 'put guild code', 
            'wallet' => 'PODLAND_WALLET', 
            'scVoucherHash'     => ['{Put Service Call Voucher Hashes}'],
            'scApiKey'           => '{Put service call Api Key}',
        ];
    try {
        $result = $BillingService->payInvoiceInFuture($param);
        print_r($result);
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```
<div class="swaggerLink">http://</div>

# [Nodejs](#tab/nodejs)

``` javascript
let payInvoiceInFutureData = {
  // ------ REQUIRED ------
  invoiceId: 0, // INVOICE ID
  date: 'YYYY/MM/DD | Date Object'

  // ------ OPTIONAL (Use just one of them) ------
  // guildCode: 'GUILD CODE'
  // wallet: 'WALLET'

  // ------ OPTIONAL ------
  // scVoucherHash: ['HASH#1', 'HASH#2']
  // token: 'API TOKEN'
  // tokenIssuer: 0 | 1
  // scApiKey: ' SC API KEY'
};

podBilling.payInvoiceInFuture(payInvoiceInFutureData)
  .then(function (result) {
    console.log('function: payInvoiceInFuture ============>', result, '\n');
  })
  .catch(function (error) {
    console.log('error payInvoiceInFuture ============>', error);
  });

```
<div class="swaggerLink">http://</div>

<div class="tab-end">
</div>





<div class="box-end">
</div>


## پرداخت از پایانه فروشگاهی-POS

در صورت نیاز می توانید برای فروشگاه خود پایانه فروشگاهی پاد مبتنی بر حساب مجازی راه اندازی نمایید. جهت استفاده از این امکان، مبلغ و شناسه فاکتور پاد جهت پرداخت به دستگاه پوز ارسال می شود. پس از انجام تراکنش موفق روی پوز، اطلاعات تراکنش با استفاده از سرویس payInvoiceByPos به پلتفرم پاد ارسال گردد.

<br/>
پارامتر invoiceId همان شناسه فاکتور در پاد است که به عنوان شناسه واریز تراکنش پوز نیز باید ارسال گردد.

<br/>
سایر موارد پس از تراکنش موفق از دستگاه پوز دریافت می گردد.

<br/>
این سرویس موارد دریافت شده را استعلام نموده و در صورت وجود و صحت تراکنش مربوطه، فاکتور را پرداخت می نماید. بنابرین لازم است قبل از فراخوانی این سرویس از موفقیت پرداخت پوز اطمینان حاصل نمایید.

<div class="box-end">
</div>

## دریافت لینک پرداخت

ممکن است لازم باشد لینک پرداخت برای مشتری با روش های مختلفی ارسال شود. این لینک قابل اشتراک گذاری خواهد بود و هر کسی که آن را داشته باشد می تواند آن را پرداخت نماید. برای دریافت لینک از سرویس getInvoicePaymentLink استفاده نمایید:

<br/>

که در صورت تمایل، می‌توانید پارامترهای redirectUri ، callbackUri و "gateway="PEP را نیز ارسال نمایید. اگر پارامتر "gateway="PEP را در لینک بگذارید، کاربر مستقیما به صفحه درگاه پرداخت بانک پاسارگاد هدایت خواهد شد و در صورت ارسال پارامتر redirectUri کاربر ملزم به تکمیل فرآیند خرید، خواهد بود.

<br/>

توجه داشته باشید که لینک فوق، شامل یک هش کد می‌باشد که مدت اعتبار آن 300 ثانیه می‌باشد؛لذا در صورتی که با پیغام خطای " کد وارد شده معتبر نمی‌باشد و یا منقضی شده است." روبه‌رو شدید ممکن است کد هش منقضی شده باشد.


<div class="tab-start">
</div>

# [C#](#tab/csharp)

``` csharp
try
    {
        var internalServiceCallVo = InternalServiceCallVo.ConcreteBuilder
            .SetToken("{Put your ApiToken}")
            //.SetScVoucherHash({Put your VoucherHash})
            //.SetScApiKey("{Put your ApiKey}")
            .Build();
           var output = new ResultSrv<string>();
           var getInvoicePaymentLinkVo = GetInvoicePaymentLinkVo.ConcreteBuilder
                               .SetServiceCallParameters(internalServiceCallVo)
                               .SetInvoiceId({Put your InvoiceId})
                               .Build();
           BillingService.GetInvoicePaymentLink(getInvoicePaymentLinkVo,response => Listener.GetResult(response, out output));
           var advanceLink = getInvoicePaymentLinkVo.GetAdvanceLink(output.Result, "PEP"); 
    }
catch (PodException podException)
    {
        Console.WriteLine($"-- {podException.Code}-an error has occured : 
                              {Environment.NewLine{podException.Message}");
        throw;
    }
catch (Exception exception)
    {
        Console.WriteLine(exception.Message);
        throw;
    }
```
<div class="swaggerLink">http://</div>

# [Java](#tab/java)

``` java
//List<String> scVoucherHashs =new ArrayList<>();
//scVoucherHashs.add("RFSFGDYEDYGS");
BaseInfoVo baseInfoVo = new BaseInfoVo.Builder()
                .setToken(TOKEN)
                .setToken_issuer(1)
                //.setScApiKey("SDFJKSHFJwshfJshfDJH")
                //.setScVoucherHash(scVoucherHashs)
                .build();

BillingService billingService = new BillingService();

try {
    GetInvoicePaymentLinkVo getInvoicePaymentLinkVo = new GetInvoicePaymentLinkVo.Builder(baseInfoVo)
            .setInvoiceId(3581653L)
            .build();
    billingService.getInvoicePaymentLink(getInvoicePaymentLinkVo, new OnGetResponseListener<String>() {
        @Override
        public void onResponse(ResultVo<String> result) {
            System.out.println(result.getResult());
        }

        @Override
        public void onFailed(PodException e) {
            System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
        }
    });
} 
catch (PodException e) {
    System.out.println("code : " + e.getCode() + "\nmessage : " + e.getMessage());
}

```
<div class="swaggerLink">http://</div>

# [PHP](#tab/php)

``` php
$param =
        [
            ## ========================= *Required Parameters  =======================
            'invoiceId'     => '{put invoice id}', 
            ## =========================  Optional Parameters ========================
            'redirectUri'   => '{put redirect uri}',
            'callbackUri'   => '{put callback uri}', 
            'gateway'       => 'PEP',
            'scVoucherHash'     => ['{Put Service Call Voucher Hashes}'],
            'scApiKey'           => '{Put service call Api Key}',
        ];
    try {
        $result = $BillingService->getInvoicePaymentLink($param);
        print_r($result);
    } catch (ValidationException $e) {
        print_r($e->getResult());
        print_r($e->getErrorsAsArray());
    } catch (PodException $e) {
        print_r($e->getResult());
    }

```
<div class="swaggerLink">http://</div>

# [Nodejs](#tab/nodejs)

``` javascript
let getInvoicePaymentLinkData = {
  // ------ REQUIRED ------
  invoiceId: 0 // INVOICE ID

  // ------ OPTIONAL ------
  // callbackUri: 'CALLBACK URI'
  // redirectUri: 'REDIRECT URI'
  // gateway: 'PEP'
  // scVoucherHash: ['HASH#1', 'HASH#2']
  // token: 'API TOKEN'
  // tokenIssuer: 0 | 1
  // scApiKey: ' SC API KEY'
};

podBillingService.getInvoicePaymentLink(getInvoicePaymentLinkData)
  .then(function (result) {
    console.log('function: getInvoicePaymentLink ============>', result, '\n');
  })
  .catch(function (error) {
    console.log('error getInvoicePaymentLink ============>', error);
  });


```
<div class="swaggerLink">http://</div>

<div class="tab-end">
</div>





<div class="box-end">
</div>

## لینک‌های مرتبط

- [مقدمه](/documents/introduction/)
- [مفاهیم](/documents/concepts/)
- [استاندارد و خطاها](/documents/errors/)
- [شروع به کار](/documents/get-started/)
- [پکیج‌ها](/documents/packages/)

<div class="box-end">
</div>

