- [مقدمه](#menu)
- [ثبت محصول](#menu)
- [اضافه کردن محصول](#menu)
- [ویرایش محصول](#menu)
- [لیست محصولات](#menu)
- [لیست محصولات کسب و کار](#menu)
- [قالب مشخصات](#menu)
- [زیر محصول](#menu)
- [جستجوی محصولات](#menu)
- [لینک‌های مرتبط](#menu)


## مقدمه

محصولات در پلتفرم کسب و کاری، این امکان را برای کسب و کارها به وجود می آورند که بدون نیاز به نگهداری اطلاعات محصولات و مدیریت موجودی هنگام فروش، با امکانات گسترده ای جهت جستجو، نمایش، خرید و اجاره محصولات بتوانند عملیات مختص کسب و کار خود را از یک قدم جلوتر آغاز نمایند.

<br/>

محصولات با توکن کسب و کار ثبت شده و در صورتی که کسب و کار بخواهد، به صورت عمومی قابل جستجو خواهند بود. منظور از محصول یک کالای خاص نیست، محصول می تواند انواع خدمات، مکان ها و ویژگی های فیزیکی یا نرم افزاری باشد که قابلیت فروختن دارند بنابرین شامل تعداد یا ظرفیت قابل فروش هستند. در هر فاکتور می توان تعدادی از محصول را به شرط موجودی فروخت و تعداد قابل فروش کاهش می یابد.

<br/>

محصول در پلتفرم به صورت بسیار عمومی دیده شده است. در حالت عادی ویژگی های مشترک هر موضوع قابل فروش در محصول قابل ثبت است ولی محصولات شامل ویژگی های خاص گروه خود نیز هستند که لازم است در آن موارد نیز قابل جستجو و مقایسه باشند. برای این منظور قالب مشخصه (AttributeTemplate) در نظر گرفته شده است.

<br/>

به این صورت می توان از میان قالب های موجود در پلتفرم که برای صنف های مختلف تعریف شده اند، قالب مناسب محصولات را انتخاب و به محصول اضافه نمود. این قالب ها شامل نام مشخصه ها و کد مشخصه ها هستند و هنگامی که به محصول اضافه می شوند لازم است برای هر کد مشخصه یک مقدار در نظر گرفته شود و در صورتی که محصولاتی با انواع مختلفی از یک مشخصه وجود داشته باشد، می توان گروهی روی آن مشخصه ایجاد نمود. (برای مثال یک پیراهن را در نظر بگیرید که می تواند دارای رنگ های مختلف باشد. بنابرین مشخصه رنگ در محصول باید گروه شود تا تمام رنگ های آن پیراهن در یک گروه محصول قرار گیرند)

<br/>

از جمله امکانات دیگر در محصولات امکان برچسب گذاری است که قابلیت جستجو بر اساس آن نیز وجود دارد. همچنین محصول دارای بخشی به نام متادیتا (metadata) می باشد که حاوی اطلاعات مورد نظر کسب و کار در قالب json است. این اطلاعات به تنهایی قابل جستجو از طریق query های دلخواه می باشند.

<div class="box-end">
</div>

## ثبت محصول

به منظور تعیین وضعیت پیامک ارسال شده می ­توان از سرویس ذیل استفاده کرد.برای اضافه کردن یک محصول ساده در کسب و کار خود از سرویس addProduct استفاده نمایید

<div class="box-end">
</div>


## اضافه کردن محصول

در صورتی که چندین محصول را می‌خواهید اضافه نمایید، دیتای محصولات را با پارامترهای اجباری در سرویس اضافه نمودن محصول، به صورت یک فایل جیسان تهیه نمایید و از معتبر بودن فایل جیسان خود، مطمئن شوید(https://jsonlint.com)، سپس این مقدار را در پارامتر data سرویس addProducts ارسال نمایید.
<br/>

پارامتر دیتا شامل لیستی از محصولات، باید به صورت array داخل [ ] ارسال گردد.

<div class="box-end">
</div>


## ویرایش محصول

برای ویرایش محصول ساده از طریق سرویس updateProduct، حداقل پارامترهای زیر را ارسال نمایید.

<br/>

#### هشدار

به منظور ارسال ایمیل همراه با فایل ضمیمه، لازم است ابتدا فایل­های مورد نظر در پاد اسپیس به صورت public ذخیره شود. سپس با استفاده از hash (­های) مربوطه می­توانید ایمیل خود را همراه با فایل(های) ضمیمه ارسال کنید.در صورتی که محصول دارای پارامترهای اختیاری نیز باشد و در ویرایش آن پارامترها ارسال نشوند، حذف خواهند شد.

<br/>

#### نکته

- در صورتی که محصول دارای پارامترهای اختیاری نیز باشد و در ویرایش آن پارامترها ارسال نشوند، حذف خواهند شد.
- در صورتی که محصول شامل کد قالب باشد، ویرایش کد قالب امکانپذیر نمی باشد ولی می توان مقادیر مشخصه های آن قالب را ویرایش نمود.
- برای ویرایش مشخه های قالب حتما باید پارامتر attTemplateCode ارسال شود.


<br/>

هم‌چنین برای آپدیت دسته ای محصولات سرویس updateProducts را فراخوانی نمایید

<div class="box-end">
</div>


## لیست محصولات
برای دریافت لیست محصولات از سرویس updateProducts استفاده نمایید. محصولاتی که enable نباشند در پاسخ این سرویس نشان داده نمی شوند.

<div class="box-end">
</div>

## لیست محصولات کسب و کار

#### ارسال push notification از طریق peer
برای دریافت لیست محصولات کسب و کار خودتان سرویس ذیل را فراخوانی نمایید:

<br/>

توجه داشته باشید در صورت فراخوانی یکی از مقادیر DEALER_PRODUCT_PERMISSON ، BUSINESS_PRODUCT و PARENT_PRODUCT در فیلد scope خروجی متفاوت خواهد بود. که در ذیل به هر کدام پرداخته شده است:

- **BUSINESS_PRODUCT**: لیست کلیه مححصولات کسب و کار بدون فیلتر در خروجی نمایش داده خواهد شد. مقدار پیش فرض این فیلد در صورت عدم انتخاب برابر با BUSINESS_PRODUCT خوهد بود.
- **DEALER_PRODUCT_PERMISSON**: لیست محصولاتی از کسب و کار خودتان، که روی آن محصول به کسب و کار واسطی اجازه صدور فاکتور داده اید.
- **PARENT_PRODUCT**:  لیست محصولاتی از کسب  و کار خودتان که در کسب و کار دیگری، parent شده است به انضمام اطلاعات کسب و کار مذکور.

<div class="box-end">
</div>

## قالب مشخصات

با استفاده از این سرویس می­توان برای افرادی که در حال استفاده از یک application خاص هستند نوتیفیکیشن ارسال کرد.برای گروه های خاص محصولات و خدمات، قالب هایی از پیش تعریف شده در پلتفرم کسب و کار موجود است که با استفاده از سرویس attributeTemplateList می توانید لیست آنها را در صنف مورد نظر خود دریافت نمایید.

<div class="box-end">
</div>


## زیر محصول
زیر محصولات محصولات قابل فروشی هستند که تفاوت های کوچکی با محصول والد خود دارند. هر زیر محصول در یک گروه محصول ساخته می شود که به وسیله قالب مشخصه تعریف می شود

<br/>

در صورتی که بخش مربوط به قالب مشخصه را مطالعه نموده باشید، می دانید که پس از ثبت محصول با یک قالب مشخصه، در صورتی که حداقل یکی از مشخصه ها attGroup[]=true داشته باشد، یک productGroup تشکیل می شود که در پاسخ ثبت محصول، در محصول ثبت شده، برگردانده می شود. از id موجود در productGroup برای تعریف زیر محصول ها در همان گروه استفاده می شود.

<br/>

با استفاده از همان سرویس ثبت محصول ، زیر محصول را ثبت نمایید.

<div class="box-end">
</div>

## جستجوی محصولات

برای جستجو بین محصولات می توانید از سرویس searchProduct استفاده نمایید.

#### نکته

- جستجو تنها در محصولات فعال (enable=true) انجام می شود.
- دقت نمایید جستجو در یک template خاص، با []attributeCode و []attributeValue داده شده، در صورت وجود آن مقادیر در یک محصول، تمام زیر محصولات دیگر آن محصول نیز برگردانده می شود. مانند یک لباس که رنگ مورد نظر را دارد و رنگ های دیگر آن نیز نمایش داده می شوند. جهت کسب اطلاعات بیشتر، بخش زیر محصول را مطالعه نمایید.
- طول دو آرایه []attributeCode و []attributeValue باید یکسان باشند.

<div class="box-end">
</div>

## لینک‌های مرتبط

- [مقدمه](/app/documents/introduction/)
- [مفاهیم](/app/documents/concepts/)
- [استاندارد و خطاها](/app/documents/errors/)
- [شروع به کار](/app/documents/get-started/)

<div class="box-end">
</div>

